<h1>ğŸ“š CatÃ¡logo de Libros</h1>

<form action="/" method="GET">
  <input type="text" name="query" placeholder="TÃ­tulo o autor..." value="{{query}}" />
  <button type="submit">ğŸ” Buscar</button>
</form>

<form method="GET" action="/">
  <label>
    CategorÃ­a:
    <select name="query">
      <option value="">Todas</option>
      <option value="Satira">Satira</option>
      <option value="Ciencia ficciÃ³n">Ciencia FicciÃ³n</option>
      <option value="FantasÃ­a">FantasÃ­a</option>
      <option value="Thriller">Thriller</option>
      <option value="DistopÃ­a">DistopÃ­a</option>
      <option value="Romance">Romance</option>
      <option value="FicciÃ³n">FicciÃ³n</option>
      <option value="Novela">Novela</option>
      <option value="Terror">Terror</option>
      <option value="FilosofÃ­a">FilosofÃ­a</option>
      <option value="Realismo mÃ¡gico">Realismo MÃ¡gico</option>
      <option value="Historia">Historia</option>
    </select>
  </label>

  <label>
    Ordenar por precio:
    <select name="sort">
      <option value="">Sin ordenar</option>
      <option value="asc">MÃ¡s barato</option>
      <option value="desc">MÃ¡s caro</option>
    </select>
  </label>

  <button type="submit">Filtrar ğŸ”</button>
</form>

<div id="products-container">
  {{#each products}}
  <div class="card" data-product-id="{{this._id}}">
    <img src="{{this.thumbnail}}" alt="{{this.title}}" />
    <h3>{{this.title}}</h3>
    <p><strong>Autor:</strong> {{this.author}}</p>
    <p><strong>GÃ©nero:</strong> {{this.category}}</p>
    <p><strong>Precio:</strong> ${{this.price}}</p>
    <a href="/products/{{this._id}}">Ver detalles</a>

    <button class="add-to-cart" data-product-id="{{this._id}}">
      Agregar al carrito ğŸ›’
    </button>
  </div>
  {{/each}}
</div>

<div class="pagination">
  {{#if pagination.hasPrevPage}}
  <a href="{{pagination.prevLink}}">â† Anterior</a>
  {{/if}}

  <span>PÃ¡gina {{pagination.page}} de {{pagination.totalPages}}</span>

  {{#if pagination.hasNextPage}}
  <a href="{{pagination.nextLink}}">Siguiente â†’</a>
  {{/if}}
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/products.js"></script>

